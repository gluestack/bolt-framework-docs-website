import Meta from "@/components/Meta";

<Meta pageTitle="ingress | bolt-framework" description="Run Docker containers, child processes, or even encapsulate your entire project within a VM, all under one unified API." />





# Defining Bolt Ingress Configuration

Bolt Ingress is a configuration file that defines how services running using bolt should be exposed to the outside world. It is a YAML Object that is placed in `bolt.yaml` file, and is named as `ingress`.

`ingress` accepts array of objects containing `domain`, `port` and `options` in yaml format.

```yaml
ingress:
  - domain: example.com
    port: 8080
    options:
      - location: /
        rewrite_key: ^/(.*)
        rewrite_value: /$1
        client_max_body_size: 50
        proxy_http_version: 1.1
        proxy_cache_bypass: $http_upgrade
        proxy_set_header_upgrade: $http_upgrade
        proxy_set_header_host: $host
        proxy_set_header_connection: '"upgrade"'
        proxy_set_header_x_real_ip: $remote_addr
        proxy_set_header_x_forwarded_for: $proxy_add_x_forwarded_for
        proxy_set_header_x_forwarded_proto: $scheme
        proxy_pass: http://host.docker.internal:3000
```

## Definition

### domain (required)

`domain` is the domain name that you want to expose your service to. It can be a subdomain or a domain.

### port (required)

`port` is the port number that you want to expose your service to.

### options (required)

`options` is an array of objects that contains the configuration for the ingress. It accepts the following keys:

#### location (required)

`location` is the location that you want to expose your service to.

#### rewrite_key (required)

`rewrite_key` is the key that you want to rewrite.

#### rewrite_value (required)

`rewrite_value` is the value that you want to rewrite.

#### proxy_pass (required)

`proxy_pass` is the URL that you want to reverse proxy pass to.

#### client_max_body_size (optional)

`client_max_body_size` is the maximum body size that you want to allow. It accepts number in megabyte & its default value is `50`.

#### proxy_http_version (optional)

`proxy_http_version` is the HTTP version that you want to use. It accepts `1.0` or `1.1` & its default value is `1.1`.

#### proxy_cache_bypass (optional)

`proxy_cache_bypass` is the cache bypass that you want to use. Its default value is `$http_upgrade`.

#### proxy_set_header_upgrade (optional)

`proxy_set_header_upgrade` is the upgrade header that you want to use. Its default value is `$http_upgrade`.

#### proxy_set_header_host (optional)

`proxy_set_header_host` is the host header that you want to use. Its default value is `$host`.

#### proxy_set_header_connection (optional)

`proxy_set_header_connection` is the connection header that you want to use. Its default value is `"upgrade"`.

#### proxy_set_header_x_real_ip (optional)

`proxy_set_header_x_real_ip` is the real IP header that you want to use. Its default value is `$remote_addr`.

#### proxy_set_header_x_forwarded_for (optional)

`proxy_set_header_x_forwarded_for` is the forwarded for header that you want to use. Its default value is `$proxy_add_x_forwarded_for`.

#### proxy_set_header_x_forwarded_proto (optional)

`proxy_set_header_x_forwarded_proto` is the forwarded proto header that you want to use. Its default value is `$scheme`.
